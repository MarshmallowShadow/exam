<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>계산기</title>
	</head>
	<body>
		<input type="text" id="display" style="width: 130px">
		<br>
		<button type="button" id="seven" style="width: 30px">7</button>
		<button type="button" id="eight" style="width: 30px">8</button>
		<button type="button" id="nine" style="width: 30px">9</button>
		<button type="button" id="divide" style="width: 30px">/</button>
		<br>
		<button type="button" id="four" style="width: 30px">4</button>
		<button type="button" id="five" style="width: 30px">5</button>
		<button type="button" id="six" style="width: 30px">6</button>
		<button type="button" id="multiply" style="width: 30px">*</button>
		<br>
		<button type="button" id="one" style="width: 30px">1</button>
		<button type="button" id="two" style="width: 30px">2</button>
		<button type="button" id="three" style="width: 30px">3</button>
		<button type="button" id="subtract" style="width: 30px">-</button>
		<br>
		<button type="button" id="zero" style="width: 30px">0</button>
		<button type="button" id="cancel" style="width: 30px">C</button>
		<button type="button" id="equals" style="width: 30px">=</button>
		<button type="button" id="add" style="width: 30px">+</button>
	</body>
	<script>
		window.onload = function(){
			var display = document.getElementById("display");
			var zero = document.getElementById("zero");
			var one = document.getElementById("one");
			var two = document.getElementById("two");
			var three = document.getElementById("three");
			var four = document.getElementById("four");
			var five = document.getElementById("five");
			var six = document.getElementById("six");
			var seven = document.getElementById("seven");
			var eight = document.getElementById("eight");
			var nine = document.getElementById("nine");
			var add = document.getElementById("add");
			var subtract = document.getElementById("subtract");
			var multiply = document.getElementById("multiply");
			var divide = document.getElementById("divide");
			var equals = document.getElementById("equals");
			var cancel = document.getElementById("cancel");
			
			var reset = true;
			var operator;
			var a;
			var b;
			display.value = "0";
			
			zero.onclick = function(){
				if(reset == false) {
					display.value = display.value + "0";
					var reset = false;
				} else {
					display.value = "0";
					var reset = true;
				}
			};
			one.onclick = function(){
				if(reset == false) {
					display.value = display.value + "1";
				} else {
					display.value = "1";
				}
				reset = false;
			};
			two.onclick = function(){
				if(reset == false) {
					display.value = display.value + "2";
				} else {
					display.value = "2";
				}
				reset = false;
			};
			three.onclick = function(){
				if(reset == false) {
					display.value = display.value + "3";
				} else {
					display.value = "3";
				}
				reset = false;
			};
			four.onclick = function(){
				if(reset == false) {
					display.value = display.value + "4";
				} else {
					display.value = "4";
				}
				reset = false;
			};
			five.onclick = function(){
				if(reset == false) {
					display.value = display.value + "5";
				} else {
					display.value = "5";
				}
				reset = false;
			};
			six.onclick = function(){
				if(reset == false) {
					display.value = display.value + "6";
				} else {
					display.value = "6";
				}
				reset = false;
			};
			seven.onclick = function(){
				if(reset == false) {
					display.value = display.value + "7";
				} else {
					display.value = "7";
				}
				reset = false;
			};
			eight.onclick = function(){
				if(reset == false) {
					display.value = display.value + "8";
				} else {
					display.value = "8";
				}
				reset = false;
			};
			nine.onclick = function(){
				if(reset == false) {
					display.value = display.value + "9";
				} else {
					display.value = "9";
				}
				reset = false;
			};
			
			add.onclick = function(){
				if(a != undefined){
					display.value = calculate(operator, a);
				}
				a = display.value;
				operator = "+";
				reset = true;
			};
			subtract.onclick = function(){
				if(a != undefined){
					display.value = calculate(operator, a);
				}
				a = display.value;
				operator = "-";
				reset = true;
			};
			multiply.onclick = function(){
				if(a != undefined){
					display.value = calculate(operator, a);
				}
				a = display.value;
				operator = "*";
				reset = true;
			};
			divide.onclick = function(){
				if(a != undefined){
					display.value = calculate(operator, a);
				}
				a = display.value;
				operator = "/";
				reset = true;
			};
			
			cancel.onclick = function(){
				//reset calculator
				display.value = "0";
				//reset values
				a = undefined;
				operator = undefined;
				reset = true;
			};
			equals.onclick = function(){
				display.value = calculate(operator, a);
				a = undefined;
				reset = true;
			};
			
			var calculate = function(op, n) {
				a = parseInt(n);
				b = parseInt(display.value);
				
				switch(op){
					case "+":
						var result = a + b;
						break;
					case "-":
						var result = a - b;
						break;
					case "*":
						var result = a * b;
						break;
					case "/":
						if(b == 0){
							var result = "n/a";
						} else {
							var result = a / b;
						}
						break;
					default:
						if(a != undefined) {
							var result = a;
						} else {
							var result = 0;
						}
						break;
				};
				return result;
			};
		};
	</script>
</html>